(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[0],{40:function(e,t,r){},41:function(e,t,r){},51:function(e,t,r){"use strict";r.r(t);var n=r(4),c=r.n(n),s=r(32),a=r.n(s),o=(r(40),r(19)),j=(r(41),r(16)),u=r(9),i=r(17),b=r.n(i),l=r(23),p=r(21),O=r(15),d=r(29);d.a.initializeApp({apiKey:"AIzaSyCw_nFjxtWvJ_mv9BrYljIt-YSNwg6Wk7Q",authDomain:"react-app-9336c.firebaseapp.com",databaseURL:"https://react-app-9336c-default-rtdb.firebaseio.com",projectId:"react-app-9336c",storageBucket:"react-app-9336c.appspot.com",messagingSenderId:"782715162088",appId:"1:782715162088:web:2b24e1829504fa1dfba85d"});var h=d.a.firestore(),x=Object(n.createContext)(null),m=r(3),f=Object(u.g)((function(e){var t=e.history,r=Object(n.useContext)(x),c=r.isAuth,s=r.setIsAuth,a={username:"",password:""},j=Object(n.useState)(a),u=Object(o.a)(j,2),i=u[0],d=u[1],f=function(e){var t=e.target,r=t.name,n=t.value;d(Object(O.a)(Object(O.a)({},i),{},Object(p.a)({},r,n)))},v=function(){var e=Object(l.a)(b.a.mark((function e(r){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.prev=1,e.next=4,h.collection("users").where("username","==",i.username).where("password","==",i.password).get();case 4:n=e.sent,n.empty?(alert("User Not found"),d(a)):(s(!c),t.push("/profile")),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error("ERR on Login:-",e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsxs)("div",{children:[Object(m.jsx)("h5",{children:"Login "}),Object(m.jsxs)("form",{autoComplete:"off",onSubmit:v,children:[Object(m.jsx)("label",{htmlFor:"username",children:"User Name:"}),Object(m.jsx)("br",{}),Object(m.jsx)("input",{value:i.username,name:"username",onChange:f,required:!0}),Object(m.jsx)("br",{}),Object(m.jsx)("label",{htmlFor:"password",children:"Password:"}),Object(m.jsx)("br",{}),Object(m.jsx)("input",{type:"text",value:i.password,name:"password",required:!0,onChange:f}),Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),Object(m.jsx)("input",{type:"submit",value:"Log In"})]})]})})),v=Object(u.g)((function(e){var t=e.history,r=Object(n.useContext)(x),c=r.isAuth,s=r.setIsAuth,a={username:"",password:""},j=Object(n.useState)(a),u=Object(o.a)(j,2),i=u[0],d=u[1],v=Object(n.useState)(null),g=Object(o.a)(v,2),w=(g[0],g[1]),y=function(e){var t=e.target,r=t.name,n=t.value;d(Object(O.a)(Object(O.a)({},i),{},Object(p.a)({},r,n)))},C=function(){var e=Object(l.a)(b.a.mark((function e(t){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,h.collection("users").where("username","==",i.username).get();case 3:r=e.sent,r.empty?S({username:i.username,password:i.password}):(alert("Seems to be an exising user, Please Login!"),d(a));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function S(e){return A.apply(this,arguments)}function A(){return(A=Object(l.a)(b.a.mark((function e(r){var n,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.collection("users").add(r);case 2:n=e.sent,c=n.id,w(c),d(a),s((function(){return t.push("/profile"),!0}));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(m.jsx)(m.Fragment,{children:c?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("p",{children:"Welcome, User"}),Object(m.jsx)("button",{onClick:function(){return s(!c)},children:"Logout"})]}):Object(m.jsxs)("div",{className:"signin__wrapper",children:[Object(m.jsxs)("div",{children:[Object(m.jsx)("h5",{children:"Register "}),Object(m.jsxs)("form",{autoComplete:"off",onSubmit:C,children:[Object(m.jsx)("label",{htmlFor:"username",children:"User Name:"}),Object(m.jsx)("br",{}),Object(m.jsx)("input",{value:i.username,name:"username",onChange:y,required:!0}),Object(m.jsx)("br",{}),Object(m.jsx)("label",{htmlFor:"password",children:"Password:"}),Object(m.jsx)("br",{}),Object(m.jsx)("input",{type:"text",value:i.password,name:"password",required:!0,onChange:y}),Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),Object(m.jsx)("input",{type:"submit",value:"Register"})]})]}),Object(m.jsx)(f,{})]})})})),g=r(35),w=function(e){var t=e.component,r=Object(g.a)(e,["component"]),c=Object(n.useContext)(x).isAuth;return Object(m.jsx)(u.d,{children:Object(m.jsx)(u.b,Object(O.a)(Object(O.a)({},r),{},{render:function(e){return c?Object(m.jsx)(t,{}):Object(m.jsx)(u.a,{to:"/"})}}))})},y=function(){return Object(m.jsx)("div",{children:"Welcome to profile"})},C=function(){return Object(m.jsx)("div",{children:"Hello from ABout Us Page"})};var S=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),r=t[0],c=t[1],s=Object(n.useMemo)((function(){return{isAuth:r,setIsAuth:c}}),[r,c]);return Object(m.jsxs)(j.a,{children:[Object(m.jsxs)("ul",{children:[Object(m.jsx)("li",{children:Object(m.jsx)(j.b,{to:"/",children:r?"Home":"Register"})}),Object(m.jsx)("li",{children:Object(m.jsx)(j.b,{to:"/profile",children:"Profile"})}),Object(m.jsx)("li",{children:Object(m.jsx)(j.b,{to:"/about",children:"About"})})]}),Object(m.jsx)("hr",{}),Object(m.jsxs)(x.Provider,{value:s,children:[Object(m.jsx)(u.b,{exact:!0,path:"/",component:v}),Object(m.jsx)(w,{path:"/about",component:C}),Object(m.jsx)(w,{path:"/profile",component:y})]})]})},A=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,52)).then((function(t){var r=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,a=t.getTTFB;r(e),n(e),c(e),s(e),a(e)}))};a.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(S,{})}),document.getElementById("root")),A()}},[[51,1,2]]]);
//# sourceMappingURL=main.2728a377.chunk.js.map